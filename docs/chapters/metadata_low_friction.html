<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.24">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>13&nbsp; Metadata – Quantitative Analysis of (Messy) Field Data</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../chapters/naming_conventions.html" rel="next">
<link href="../chapters/nature_of_data.html" rel="prev">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dc55a5b9e770e841cd82e46aadbfb9b0.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-f2c6d6e2b784ddc5de38779acc06f37d.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-sidebar floating quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../chapters/reproducible_workflow_intro.html">Part I: Reproducible Analyses</a></li><li class="breadcrumb-item"><a href="../chapters/metadata_low_friction.html"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Metadata</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header sidebar-header-stacked">
      <a href="../index.html" class="sidebar-logo-link">
      <img src="../graphics/jackalope_graphics/analytical_jackalope.png" alt="" class="sidebar-logo light-content py-0 d-lg-inline d-none">
      <img src="../graphics/jackalope_graphics/analytical_jackalope.png" alt="" class="sidebar-logo dark-content py-0 d-lg-inline d-none">
      </a>
    <div class="sidebar-title mb-0 py-0">
      <a href="../">Quantitative Analysis of (Messy) Field Data</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="false">
 <span class="menu-text">Course Overview</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Information</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/course_intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Introduction</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/syllabus.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Syllabus</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/calendar_sp26.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Course calendar</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/ai_policy.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">GenAI Use Guidelines</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/preparing_yourself.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Preparing Yourself</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/assignment_grades.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Assignments &amp; Grades</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/project_scoping.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Project Scoping</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="false">
 <span class="menu-text">Part ∅: AI preparation</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/ai_prompting.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">AI Prompting for Analysis</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/using_jackalope_gpt.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Using JackalopeGPT</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">Part I: Reproducible Analyses</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/reproducible_workflow_intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Reproducible Analyses</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/nature_of_data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">The Nature of Data</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/metadata_low_friction.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Metadata</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/naming_conventions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Conventions and Style</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/statistical_aphorisms.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Statistical Philosophy</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="false">
 <span class="menu-text">Part II: Chaos to Columns</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/data_exploration_intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Data Exploration</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/data_exploration_toolkit.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Data Exploration Toolkit</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/outliers.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Tool 1: Outliers</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/tutorial_data_exploration.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Tutorial: Data Exploration</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <span class="sidebar-item-text sidebar-link text-start">
 <span class="menu-text">Part III: Columns to Curves</span></span>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <span class="sidebar-item-text sidebar-link text-start">
 <span class="menu-text">Part IV: Curves to Meaning</span></span>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#why-metadata-are-essential" id="toc-why-metadata-are-essential" class="nav-link active" data-scroll-target="#why-metadata-are-essential"><span class="header-section-number">13.2</span> Why metadata are essential</a></li>
  <li><a href="#metadata-within-a-reproducible-analytical-workflow" id="toc-metadata-within-a-reproducible-analytical-workflow" class="nav-link" data-scroll-target="#metadata-within-a-reproducible-analytical-workflow"><span class="header-section-number">13.3</span> Metadata within a reproducible analytical workflow</a></li>
  <li><a href="#types-of-metadata-what-different-layers-do" id="toc-types-of-metadata-what-different-layers-do" class="nav-link" data-scroll-target="#types-of-metadata-what-different-layers-do"><span class="header-section-number">13.4</span> Types of metadata: what different layers do</a></li>
  <li><a href="#what-good-metadata-enable-fair-in-plain-language" id="toc-what-good-metadata-enable-fair-in-plain-language" class="nav-link" data-scroll-target="#what-good-metadata-enable-fair-in-plain-language"><span class="header-section-number">13.5</span> What good metadata enable (FAIR, in plain language)</a></li>
  <li><a href="#a-low-friction-approach-to-metadata" id="toc-a-low-friction-approach-to-metadata" class="nav-link" data-scroll-target="#a-low-friction-approach-to-metadata"><span class="header-section-number">13.6</span> A low-friction approach to metadata</a></li>
  <li><a href="#what-good-enough-metadata-must-accomplish" id="toc-what-good-enough-metadata-must-accomplish" class="nav-link" data-scroll-target="#what-good-enough-metadata-must-accomplish"><span class="header-section-number">13.7</span> What “good enough” metadata must accomplish</a></li>
  <li><a href="#practical-formats-for-early-stage-metadata" id="toc-practical-formats-for-early-stage-metadata" class="nav-link" data-scroll-target="#practical-formats-for-early-stage-metadata"><span class="header-section-number">13.8</span> Practical formats for early-stage metadata</a></li>
  <li><a href="#why-we-use-yaml" id="toc-why-we-use-yaml" class="nav-link" data-scroll-target="#why-we-use-yaml"><span class="header-section-number">13.9</span> Why we use YAML</a></li>
  <li><a href="#levels-of-metadata-where-information-belongs-and-where-it-does-not" id="toc-levels-of-metadata-where-information-belongs-and-where-it-does-not" class="nav-link" data-scroll-target="#levels-of-metadata-where-information-belongs-and-where-it-does-not"><span class="header-section-number">13.10</span> Levels of metadata: where information belongs (and where it does <em>not</em>)</a></li>
  <li><a href="#wrapping-this-up" id="toc-wrapping-this-up" class="nav-link" data-scroll-target="#wrapping-this-up"><span class="header-section-number">13.11</span> Wrapping this up</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../chapters/reproducible_workflow_intro.html">Part I: Reproducible Analyses</a></li><li class="breadcrumb-item"><a href="../chapters/metadata_low_friction.html"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Metadata</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Metadata</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<div class="columns">
<div class="column" style="width:48%;">
<section id="what-metadata-are-and-are-not" class="level2" data-number="13.1">
<h2 data-number="13.1" class="anchored" data-anchor-id="what-metadata-are-and-are-not"><span class="header-section-number">13.1</span> What metadata are (and are not)</h2>
<blockquote class="blockquote">
<p><strong>Metadata are data about data.</strong></p>
</blockquote>
<p>This definition is technically correct, but not very useful on its own. A more practical way to think about metadata is this:</p>
<blockquote class="blockquote">
<p><strong>Metadata describe the context in which data were generated.</strong></p>
</blockquote>
</section>
</div><div class="column" style="width:48%;">
<p><img src="../graphics/other_stylized_graphics/metadata_graphic.png" class="img-fluid"></p>
</div>
</div>
<p>Metadata record the information needed to interpret measurements correctly. They tell us:</p>
<ul>
<li>who collected the data<br>
</li>
<li>when and where they were collected<br>
</li>
<li>how measurements were made<br>
</li>
<li>what files belong together<br>
</li>
<li>what assumptions, constraints, or limitations existed upstream</li>
</ul>
<p>Metadata are not bureaucracy. They are <strong>scientific memory</strong>. Without metadata, data quickly lose meaning—especially once they leave the hands of the person who collected them.</p>
<hr>
<section id="why-metadata-are-essential" class="level2" data-number="13.2">
<h2 data-number="13.2" class="anchored" data-anchor-id="why-metadata-are-essential"><span class="header-section-number">13.2</span> Why metadata are essential</h2>
<p>Raw data without metadata are often difficult—or impossible—to interpret, even by the original researcher. In practice, many irreproducible analyses fail <strong>before modeling begins</strong>, because key contextual information was never recorded. A column of numbers without units, provenance, or spatial and temporal context is just a sequence of values. It is not reusable scientific data.</p>
<p>At a broad level, good metadata allow others (and future you) to:</p>
<ul>
<li>understand what the data actually represent, and what their limitations are<br>
</li>
<li>judge whether the data are appropriate for a new purpose or analysis<br>
</li>
<li>reconstruct and evaluate analytical decisions made downstream</li>
</ul>
<p>Metadata do not guarantee good science, but their absence almost guarantees future confusion.</p>
<hr>
</section>
<section id="metadata-within-a-reproducible-analytical-workflow" class="level2" data-number="13.3">
<h2 data-number="13.3" class="anchored" data-anchor-id="metadata-within-a-reproducible-analytical-workflow"><span class="header-section-number">13.3</span> Metadata within a reproducible analytical workflow</h2>
<p>Reproducibility is not just about being able to rerun code indefinitely. It also requires being able to answer core questions about the data themselves, such as:</p>
<ul>
<li>What <em>exactly</em> was measured?<br>
</li>
<li>Under what conditions were the measurements taken?<br>
</li>
<li>What instruments or protocols were used?<br>
</li>
<li>What were the data’s limitations or sources of error?</li>
</ul>
<p>Metadata provide the necessary bridge between <strong>raw data</strong> and <strong>scientific inference</strong>. They explain how measurements came to exist and clarify which kinds of estimands the data can —and cannot— support.</p>
<p>Within the broader analytical workflow, raw data and metadata together form a <strong>complete dataset</strong>. Complete datasets can be verified, versioned, shared, and reused. All subsequent processing, modeling, and inference depend on this foundation.</p>
<blockquote class="blockquote">
<p>To emphasize, metadata are <em>not</em> an afterthought; <strong>they are part of the data.</strong></p>
</blockquote>
<hr>
</section>
<section id="types-of-metadata-what-different-layers-do" class="level2" data-number="13.4">
<h2 data-number="13.4" class="anchored" data-anchor-id="types-of-metadata-what-different-layers-do"><span class="header-section-number">13.4</span> Types of metadata: what different layers do</h2>
<p>In practice, metadata operate at several conceptual layers. Each layer answers a different scientific question and constrains how hypotheses and models can be formulated.</p>
<blockquote class="blockquote">
<p><strong>Together:</strong><br>
Structural metadata define what exists.<br>
Measurement metadata define what it represents.<br>
Contextual metadata define what it can be used to infer.</p>
</blockquote>
<div class="callout callout-style-default callout-tip no-icon callout-titled">
<div class="callout-header d-flex align-content-center collapsed" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Tip</span>Structural Metadata
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p><em>What is in the dataset</em></p>
<p>Structural metadata describe the <strong>literal structure of the data file</strong>: variable names, units, data types, allowed values, and how missing values are encoded. This layer tells a reader (and software) what each column represents and how it should be interpreted at a basic level.</p>
<p>Structural metadata directly constrain hypotheses and models by determining:</p>
<ul>
<li>what variables exist<br>
</li>
<li>what scales and transformations are meaningful<br>
</li>
<li>what distributional assumptions are even plausible</li>
</ul>
<blockquote class="blockquote">
<p>Structural metadata define <strong>what questions can be expressed</strong> with the data at all.</p>
</blockquote>
</div>
</div>
</div>
<div class="callout callout-style-default callout-tip no-icon callout-titled">
<div class="callout-header d-flex align-content-center collapsed" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Tip</span>Measurement Metadata
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p><em>How values were generated</em></p>
<p>Measurement metadata describe the <strong>process by which values came into existence</strong>: instruments or observers, protocols, calibration or standardization, accuracy, resolution, and the role of human judgment versus sensors.</p>
<p>This layer determines whether variables are:</p>
<ul>
<li>direct measurements or proxies<br>
</li>
<li>comparable across space, time, or observers<br>
</li>
<li>subject to detection error or measurement error</li>
</ul>
<p>Measurement metadata shape hypotheses by clarifying <em>what the variables actually represent</em> in the real world, and they constrain model choice by determining whether additional structure (e.g., detection submodels) is required.</p>
<blockquote class="blockquote">
<p>Measurement metadata define <strong>what your variables mean</strong>.</p>
</blockquote>
</div>
</div>
</div>
<div class="callout callout-style-default callout-tip no-icon callout-titled">
<div class="callout-header d-flex align-content-center collapsed" data-bs-toggle="collapse" data-bs-target=".callout-3-contents" aria-controls="callout-3" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Tip</span>Contextual Metadata
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-3" class="callout-3-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p><em>Why the dataset looks the way it does</em></p>
<p>Contextual metadata describe the <strong>study design and constraints</strong> that shaped the dataset: sampling units, spatial and temporal scope, missingness mechanisms, access limitations, and known biases.</p>
<p>This layer determines:</p>
<ul>
<li>which comparisons are valid<br>
</li>
<li>whether observations are independent or repeated<br>
</li>
<li>whether certain hypotheses are testable at all</li>
</ul>
<p>Contextual metadata are where limitations become explicit and where interpretive boundaries are drawn.</p>
<blockquote class="blockquote">
<p>Contextual metadata define <strong>what inferences the data can support</strong>.</p>
</blockquote>
</div>
</div>
</div>
<hr>
</section>
<section id="what-good-metadata-enable-fair-in-plain-language" class="level2" data-number="13.5">
<h2 data-number="13.5" class="anchored" data-anchor-id="what-good-metadata-enable-fair-in-plain-language"><span class="header-section-number">13.5</span> What good metadata enable (FAIR, in plain language)</h2>
<p>At their core, the FAIR principles (<a href="https://www.nature.com/articles/sdata201618">Wilkinson <em>et al.</em> (2016)</a>) recognize that data are only useful if their <strong>context travels with them</strong>. Metadata are what make this possible. Much of the modern emphasis on metadata comes from the <strong>FAIR principles</strong>, which aim to ensure that scientific data are:</p>
<ul>
<li><strong>Findable:</strong> Metadata help other people <em>find that the data exist</em>.<br>
</li>
<li><strong>Accessible:</strong> Metadata explain <em>how to get the data and what the files mean</em>.<br>
</li>
<li><strong>Interoperable:</strong> Metadata make it clear <em>how the data are formatted and measured</em>, so they work with other data.<br>
</li>
<li><strong>Reusable:</strong> Metadata explain <em>how the data were collected and what their limits are</em>, so others can use them correctly.</li>
</ul>
<p>Crucially, FAIR is not about ensuring perfection; it is about increasing the probability of <strong>future usability</strong>.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>You are <em>not</em> expected to memorize the FAIR acronym. What matters most is understanding what FAIR is trying to do (specifically, what it is trying to protect)!</p>
</div>
</div>
<hr>
</section>
<section id="a-low-friction-approach-to-metadata" class="level2" data-number="13.6">
<h2 data-number="13.6" class="anchored" data-anchor-id="a-low-friction-approach-to-metadata"><span class="header-section-number">13.6</span> A low-friction approach to metadata</h2>
<p>You have probably encountered the long list of formal metadata standards used across scientific disciplines. For this course, you do <strong>not</strong> need to master any of them, and, in fact, you barely need to know them at all.</p>
<p>Our approach to metadata is intentionally <strong>low friction</strong>. That means it fits naturally into you (and others) already work: without extra tools or unnecessary extra steps, and without specialized expertise. The goal is not blind compliance to reporting standards; first and foremost, it is about scientific clarity. We therefore adopt a simple guiding principle:</p>
<blockquote class="blockquote">
<p><em>Let repositories handle standardization. Your job is to record clear, honest, human-readable metadata.</em></p>
</blockquote>
<p>Repositories such as Dataverse, Zenodo, Dryad, GBIF, and institutional archives are designed to translate user-supplied documentation into formal metadata schemas. That translation only works, however, if the essential information about your data exists in the first place. What matters most at this stage is <strong>clarity and completeness</strong>, not adherence to a specific –and often over-specified– standard.</p>
<hr>
</section>
<section id="what-good-enough-metadata-must-accomplish" class="level2" data-number="13.7">
<h2 data-number="13.7" class="anchored" data-anchor-id="what-good-enough-metadata-must-accomplish"><span class="header-section-number">13.7</span> What “good enough” metadata must accomplish</h2>
<p>At a minimum, metadata should allow another scientifically literate person—someone outside your project—to answer the following questions:</p>
<ul>
<li>What are these data?<br>
</li>
<li>Who created them?<br>
</li>
<li>When and where were they collected?<br>
</li>
<li>How were the measurements made?<br>
</li>
<li>What files belong together, and how?</li>
</ul>
<p>If these questions cannot be answered from the metadata alone, the dataset is not reusable—no matter how sophisticated the analysis or modeling may be.</p>
<hr>
</section>
<section id="practical-formats-for-early-stage-metadata" class="level2" data-number="13.8">
<h2 data-number="13.8" class="anchored" data-anchor-id="practical-formats-for-early-stage-metadata"><span class="header-section-number">13.8</span> Practical formats for early-stage metadata</h2>
<p>In everyday research workflows, metadata often begin life in simple, familiar formats such as:</p>
<ul>
<li><strong>Google Sheet</strong> (good for coordinating field or lab work)<br>
</li>
<li><strong>plain-text or Markdown file</strong> (good for small or exploratory projects)</li>
</ul>
<p>These formats are perfectly acceptable as <em>starting points</em>. They lower the barrier to documentation and encourage metadata to be written early in the analysis life-cycle rather than postponed. However, these format are usually best treated as <strong>temporary representations</strong>. As projects grow, metadata need to become more structured, more explicit, and easier to validate and reuse. But, if you are more comfortable beginning your journey using a version-controlled spreadsheet platform (like Google Sheets), you are welcome to do so.</p>
<hr>
</section>
<section id="why-we-use-yaml" class="level2" data-number="13.9">
<h2 data-number="13.9" class="anchored" data-anchor-id="why-we-use-yaml"><span class="header-section-number">13.9</span> Why we use YAML</h2>
<p>To support that transition from your mind (or Google Sheets), this course adopts <strong>YAML</strong> as the canonical format for project-level metadata.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span>YAML: What’s in a name?
</div>
</div>
<div class="callout-body-container callout-body">
<p>Originally, YAML was an abbreviation for <em>“Yet Another Markup Language”</em>. Later, it become <em>“YAML Ain’t Markup Language”</em>.</p>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span>What the heck is <em>canonical</em> in this context?
</div>
</div>
<div class="callout-body-container callout-body">
<p><em>Canonical</em> simply means that there is exactly one place where your dataset is formally defined; it does <em>not</em> mean that your metadata exists as exactly one file (though it could).</p>
</div>
</div>
<p>There are several advantages to using YAML, including:</p>
<ul>
<li><strong>human-readable and easy to edit</strong><br>
</li>
<li><strong>structured and explicit about relationships</strong><br>
</li>
<li><strong>easy to version-control</strong><br>
</li>
<li><strong>simple to validate and extend</strong> (i.e.&nbsp;Quarto markdown files have YAML headers)<br>
</li>
<li><strong>straightforward to convert into repository-specific schemas later</strong></li>
</ul>
<p>Most importantly, YAML encourages you to think carefully about <strong>what varies</strong>, <strong>what stays constant</strong>, and <strong>how different pieces of a dataset relate to one another</strong>.</p>
<p>In the next section, we will walk through the structure of a well-designed YAML metadata file, using concrete examples and expandable templates to show how common research scenarios —such as multiple instruments, deployments, or sampling rates— can be documented clearly and correctly.</p>
<hr>
</section>
<section id="levels-of-metadata-where-information-belongs-and-where-it-does-not" class="level2" data-number="13.10">
<h2 data-number="13.10" class="anchored" data-anchor-id="levels-of-metadata-where-information-belongs-and-where-it-does-not"><span class="header-section-number">13.10</span> Levels of metadata: where information belongs (and where it does <em>not</em>)</h2>
<p>When you document metadata, your main job is to put information at the <strong>right level of scope</strong>. This keeps metadata clear, avoids duplication, and prevents the most common failure mode: <strong>collapsing variation</strong>.</p>
<p>A useful way to think about this is a hierarchy of levels, from broad context to individual files.</p>
<hr>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center collapsed" data-bs-toggle="collapse" data-bs-target=".callout-7-contents" aria-controls="callout-7" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span><strong>Dataset-level metadata</strong> (the whole project)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-7" class="callout-7-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>This level answers: <em>What is this data set, broadly, and how should it be cited, discovered, and reused?</em></p>
<p><strong>What belongs at this level</strong></p>
<ul>
<li>title, description, and keywords<br>
</li>
<li>creators, affiliations, persistent identifiers (e.g., ORCID)<br>
</li>
<li>overall spatial and temporal scope (broad bounds, if applicable)<br>
</li>
<li>license and usage rights<br>
</li>
<li>related identifiers (publications, code repositories, DOIs)<br>
</li>
<li>high-level description of how the data were generated<br>
</li>
<li>provenance summary (e.g., “data collection + processing workflow”)</li>
</ul>
<p><strong>What does <em>not</em> belong at this level</strong></p>
<ul>
<li>file-specific settings or parameters<br>
</li>
<li>values that vary across observations or files<br>
</li>
<li>derived results (means, medians, model outputs)<br>
</li>
<li>vague summaries such as “most values were…”<br>
</li>
</ul>
</div>
</div>
</div>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center collapsed" data-bs-toggle="collapse" data-bs-target=".callout-8-contents" aria-controls="callout-8" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span><strong>Instrument- or system-level metadata</strong> (the measurement system)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-8" class="callout-8-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>This level answers: <em>What system, instrument, or process produced the measurements, and what are its stable properties?</em></p>
<p><strong>What belongs at this level</strong></p>
<ul>
<li>system or instrument type, manufacturer, and model<br>
</li>
<li>serial number, asset ID, or logical identifier<br>
</li>
<li>software or firmware version (if relevant)<br>
</li>
<li>properties that are stable across use (e.g., resolution, precision, bit depth)</li>
</ul>
<p><strong>What does <em>not</em> belong at this level</strong></p>
<ul>
<li>settings that vary across observations unless explicitly declared as defaults<br>
</li>
<li>time- or location-specific information<br>
</li>
</ul>
</div>
</div>
</div>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center collapsed" data-bs-toggle="collapse" data-bs-target=".callout-9-contents" aria-controls="callout-9" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span><strong>Deployment- or configuration-level metadata</strong> (a consistent setup)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-9" class="callout-9-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>This level answers: <em>When and under what conditions was the system used with a consistent configuration?</em></p>
<p><strong>What belongs at this level</strong></p>
<ul>
<li>configuration or deployment identifier<br>
</li>
<li>contextual identifiers (e.g., site, batch, experiment, run)<br>
</li>
<li>start and end dates or times<br>
</li>
<li>parameters that were constant during this configuration<br>
</li>
<li>calibration notes, protocols, or procedural references</li>
</ul>
<p><strong>What does <em>not</em> belong at this level</strong></p>
<ul>
<li>individual file or observation exceptions unless explicitly mapped<br>
</li>
<li>values that vary within the configuration without structure<br>
</li>
</ul>
</div>
</div>
</div>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center collapsed" data-bs-toggle="collapse" data-bs-target=".callout-10-contents" aria-controls="callout-10" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span><strong>File- or observation-level metadata</strong> (individual data units)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-10" class="callout-10-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>This level answers: <em>What is true about this specific file, record, or observation?</em></p>
<p><strong>What belongs at this level</strong></p>
<ul>
<li>filename or observation identifier<br>
</li>
<li>date and time of acquisition or creation<br>
</li>
<li>parameter values that vary (e.g., sampling rate, resolution, settings)<br>
</li>
<li>contextual attributes that differ across observations<br>
</li>
<li>location information, if variable</li>
</ul>
<p><strong>What does <em>not</em> belong at this level</strong></p>
<ul>
<li>dataset-wide descriptions<br>
</li>
<li>interpretive judgments (e.g., “high quality”) unless defined by a controlled scheme<br>
</li>
</ul>
</div>
</div>
</div>
<hr>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center collapsed" data-bs-toggle="collapse" data-bs-target=".callout-11-contents" aria-controls="callout-11" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Tip</span>Two rules that prevent most metadata mistakes
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-11" class="callout-11-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<ol type="1">
<li><p><strong>Place metadata at the highest level where they are constant.</strong><br>
If a sampling rate never changes across a deployment, store it at the deployment or instrument level.</p></li>
<li><p><strong>If a metadata value varies, do not summarize it; map it explicitly by adding another metadata entry.</strong><br>
Never write “sampling_rate_hz: 48000” plus “some files differ.” Instead, record which files have which values.</p></li>
</ol>
</div>
</div>
</div>
<hr>
</section>
<section id="wrapping-this-up" class="level2" data-number="13.11">
<h2 data-number="13.11" class="anchored" data-anchor-id="wrapping-this-up"><span class="header-section-number">13.11</span> Wrapping this up</h2>
<p>Clear and clean metadata describe what your data are and how they were generated. Just as importantly, the names you give to files, variables, and folders determine whether that information remains interpretable as projects grow. In the next section, we turn to the topic of naming conventions and coding style —small and seemingly trivial decisions that play an outsized role in scientific reproducibility. Let’s proceed!</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../chapters/nature_of_data.html" class="pagination-link" aria-label="The Nature of Data">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">The Nature of Data</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../chapters/naming_conventions.html" class="pagination-link" aria-label="Conventions and Style">
        <span class="nav-page-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Conventions and Style</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>